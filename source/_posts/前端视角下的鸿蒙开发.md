---
title: å‰ç«¯è§†è§’ä¸‹çš„é¸¿è’™å¼€å‘
date: 2024-05-08 10:23:01
tags:
---

## å‰è¨€

> é¸¿è’™ç³»ç»Ÿï¼Œä¸€ä¸ªä»è¯ç”Ÿå°±ä¸€ç›´å¤„äºèˆ†è®ºé£å£æµªå°–ä¸Šçš„ç³»ç»Ÿï¼Œä»æœ€å¼€å§‹çš„â€œå¥—å£³â€å®‰å“çš„è¯´æ³•ï¼Œåˆ°å»å¹´çš„ä¸å†å…¼å®¹å®‰å“çš„NEXTç‰ˆæœ¬çš„æŠ€æœ¯é¢„è§ˆç‰ˆå‘å¸ƒï¼Œå¯¹äºé¸¿è’™åˆ°åº•æ˜¯ä»€ä¹ˆï¼Œä»¥åŠé¸¿è’™çš„åº”ç”¨å¼€å‘çš„è®¨è®ºä»æ¥æ²¡åœæ­¢è¿‡ã€‚
>
> è¿™æ¬¡æˆ‘ä»¬å°±ä»ä¸€ä¸ªå‰ç«¯å¼€å‘çš„è§’åº¦æ¥äº†è§£ä¸€ä¸‹é¸¿è’™ï¼Œå­¦ä¹ ä¸€ä¸‹é¸¿è’™åº”ç”¨çš„å¼€å‘ã€‚

## ä¸€ã€ ä»€ä¹ˆæ˜¯é¸¿è’™

åœ¨å¼€å§‹ä¹‹å‰ï¼Œå…ˆé—®å¤§å®¶ä¸€ä¸ªé—®é¢˜ï¼Œå¤§å®¶å¬è¯´è¿‡å‡ ç§é¸¿è’™ï¼Ÿ

å…¶å®åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬ç»å¸¸å¬åˆ°çš„é¸¿è’™ç³»ç»Ÿï¼Œæ€»å…±æœ‰ä¸‰ç§ï¼Œåˆ†åˆ«æ˜¯ï¼š

OpenHarmonyï¼ŒHarmonyOSï¼Œä»¥åŠHarmonyOS NEXTã€‚

### 1. OpenHarmony

![OpenHarmony](https://static.youfindme.cn/blog//harmony_os_getting_started/open_harmony.png)

[OpenHarmonyï¼ˆå¼€æºé¸¿è’™ç³»ç»Ÿï¼‰](https://www.openharmony.cn)ï¼Œç”±å¼€æ”¾åŸå­å¼€æºåŸºé‡‘ä¼šè¿›è¡Œç®¡ç†ã€‚å¼€æ”¾åŸå­å¼€æºåŸºé‡‘ä¼šç”±åä¸ºã€é˜¿é‡Œã€è…¾è®¯ã€ç™¾åº¦ã€æµªæ½®ã€æ‹›å•†é“¶è¡Œã€360ç­‰åå®¶äº’è”ç½‘ä¼ä¸šå…±åŒå‘èµ·ç»„å»ºã€‚åŒ…å«äº†â€œé¸¿è’™æ“ä½œç³»ç»Ÿâ€çš„åŸºç¡€èƒ½åŠ›ï¼Œæ˜¯â€œçº¯è¡€â€é¸¿è’™çš„åº•åº§ã€‚

è¿™ä¸ªç‰ˆæœ¬çš„é¸¿è’™æ˜¯å¼€æºçš„ï¼Œä»£ç ä»“åº“çš„åœ°å€åœ¨è¿™é‡Œï¼š[https://gitee.com/openharmony](https://gitee.com/openharmony)ã€‚

ä»æˆ‘ä¸ªäººçš„ä¸€äº›ç²—æµ…ç†è§£æ¥çœ‹ï¼ŒOpenHarmonyç±»ä¼¼äºAndroidé‡Œçš„AOSPï¼Œå¯ä»¥è£…åˆ°å„ç§è®¾å¤‡ä¸Šï¼Œæ¯”å¦‚æ‰‹è¡¨ã€ç”µè§†ç”šè‡³æ˜¯ä¸€äº›åµŒå…¥å¼è®¾å¤‡ä¸Šï¼Œè¯¦è§å¯è§å®˜ç½‘çš„ä¸€äº›[ä¾‹å­](https://www.openharmony.cn/armList/?id=6)ã€‚

### 2. HarmonyOS

![HarmonyOS](https://static.youfindme.cn/blog//harmony_os_getting_started/harmony_os.png)

åŸºäº OpenHarmonyã€AOSPç­‰å¼€æºé¡¹ç›®ï¼ŒåŒæ—¶åŠ å…¥äº†è‡ªå·±çš„HMSï¼ˆå› ä¸ºè¢«ç¾å›½é™åˆ¶åæ— æ³•ä½¿ç”¨GMSï¼‰çš„å•†ç”¨ç‰ˆæœ¬ï¼Œå¯ä»¥å…¼å®¹å®‰å“ï¼Œä¹Ÿå¯ä»¥è¿è¡Œéƒ¨åˆ†OpenHarmonyå¼€å‘çš„é¸¿è’™åŸç”Ÿåº”ç”¨ã€‚

è¿™ä¸ªä¹Ÿæ˜¯ç›®å‰ç»å¸¸è¢«åæ§½æ˜¯â€œå¥—å£³â€å®‰å“çš„ç³»ç»Ÿï¼Œæˆªæ­¢åˆ°ç›®å‰ï¼ˆ2024.04ï¼‰å·²ç»æ›´æ–°åˆ°äº†HarmonyOS 4.2ã€‚

### 3. HarmonyOS NEXT

![HarmonyOS NEXT](https://static.youfindme.cn/blog//harmony_os_getting_started/harmony_os_next.png)

2023å¹´ç§‹å­£å‘å¸ƒçš„æŠ€æœ¯é¢„è§ˆç‰ˆï¼Œåœ¨å½“å‰HarmonyOSçš„åŸºç¡€ä¸Šå»é™¤äº†AOSPç”šè‡³æ˜¯JVMï¼Œä¸å†å…¼å®¹å®‰å“ï¼Œåªèƒ½è¿è¡Œé¸¿è’™åŸç”Ÿåº”ç”¨ï¼ŒåŒæ—¶å¯¹OpenHarmonyçš„èƒ½é‡Œè¿›è¡Œäº†å¤§é‡çš„æ›´æ–°ï¼Œå¢åŠ å’Œä¿®æ”¹äº†å¾ˆå¤šAPIã€‚

è¿™ä¸ªä¹Ÿå°±æ˜¯æ‰€è°“çš„â€œçº¯è¡€â€é¸¿è’™ç³»ç»Ÿï¼Œå¯æƒœçš„æ˜¯è¿™ä¸ªç›®å‰æˆ‘ä»¬ç”¨ä¸åˆ°ï¼Œéœ€è¦ä»¥å…¬å¸åä¹‰æ‰¾åä¸ºåˆä½œå¼€æƒé™ï¼Œæˆ–è€…ä¸ªäººå¼€å‘è€…ä½¿ç”¨ä¸€å°Mate60 Proåšä¸“é—¨çš„å¼€å‘æœºã€‚å¹¶ä¸”ç›®å‰ç”±äºæœ‰ä¿å¯†åè®®ï¼Œç½‘ä¸Šä¹Ÿæ²¡æœ‰å¤ªå¤šå…³äºæœ€æ–°APIçš„æ¶ˆæ¯ã€‚

> NEXTç‰ˆæœ¬æ–‡æ¡£ï¼š[https://developer.huawei.com/consumer/cn/doc/harmonyos-releases/releasenotes-overview-0000001602419138](https://developer.huawei.com/consumer/cn/doc/harmonyos-releases/releasenotes-overview-0000001602419138)

![æ— æ³•ç›´æ¥è®¿é—®çš„NEXTç‰ˆæœ¬çš„å¼€å‘æ–‡æ¡£](https://static.youfindme.cn/blog//harmony_os_getting_started/can_not_access_next_doc.png)

æ®è¯´ç›®å‰HarmonyOS NEXTä½¿ç”¨çš„APIç‰ˆæœ¬å·²ç»åˆ°äº†API12ï¼Œç›®å‰å®˜ç½‘å¯ä»¥è®¿é—®çš„æœ€æ–°æ–‡æ¡£è¿˜æ˜¯API9ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥çš„å†…å®¹ä¹Ÿéƒ½æ˜¯åŸºäºAPI9çš„ç‰ˆæœ¬æ¥çš„ã€‚

### 4. å°ç»“

æ‰€ä»¥ä¸€ä¸ªç²—ç•¥çš„è§†è§’æ¥çœ‹ï¼ŒOpenHarmonyã€HarmonyOSä»¥åŠHarmonyOS NEXTè¿™ä¸‰è€…ä¹‹é—´çš„å…³ç³»æ˜¯è¿™æ ·çš„ï¼š

![ä¸‰è€…ä¹‹é—´çš„å…³ç³»](https://static.youfindme.cn/blog//harmony_os_getting_started/relationship.png)

## äºŒã€ åˆè¯†é¸¿è’™å¼€å‘

åœ¨å¤§æ¦‚çŸ¥é“äº†ä»€ä¹ˆæ˜¯é¸¿è’™ä¹‹åï¼Œæˆ‘ä»¬å…ˆæ¥ç®€å•çœ‹ä¸€ä¸‹é¸¿è’™å¼€å‘çš„å¥—ä»¶ã€‚ä¸‹å›¾æ˜¯[å®˜ç½‘](https://developer.huawei.com/consumer/cn/)æ‰€æè¿°çš„ä¸€äº›å¼€å‘å¥—ä»¶ï¼ŒåŒ…æ‹¬äº†è®¾è®¡ã€å¼€å‘ã€æµ‹è¯•ã€ä¸Šæ¶æ‰€æ¶‰åŠåˆ°çš„æŠ€æœ¯å’Œäº§å“ã€‚

![é¸¿è’™å¼€å‘å¥—ä»¶](https://static.youfindme.cn/blog//harmony_os_getting_started/development_kit.png)

æˆ‘ä»¬è¿™ç¯‡æ–‡ç« é‡Œä¸»è¦è®¨è®ºå³ä¸‹è§’çš„ä¸‰ä¸ªï¼š[ArkTS](https://developer.huawei.com/consumer/cn/arkts/)ã€[ArkUI](https://developer.huawei.com/consumer/cn/arkui/)ã€[ArkCompiler](https://developer.huawei.com/consumer/cn/arkcompiler/)ã€‚

![ArkTS&ArkUI](https://static.youfindme.cn/blog//harmony_os_getting_started/arkts_arkui.png)

![ArkCompiler](https://static.youfindme.cn/blog//harmony_os_getting_started/arkcompiler.png)

## ä¸‰ã€ å…³äºArkTSçš„ä¸€äº›ç–‘æƒ‘

ä½œä¸ºä¸€ä¸ªå‰ç«¯å¼€å‘ï¼Œæœ€å¸¸ç”¨çš„ç¼–ç¨‹è¯­è¨€å°±æ˜¯JavaScriptæˆ–è€…TypeScriptï¼Œé‚£ä¹ˆåœ¨çœ‹åˆ°é¸¿è’™åº”ç”¨å¼€å‘ç”¨åˆ°çš„ç¼–ç¨‹è¯­è¨€æ˜¯ArkTSä¹‹åï¼Œæˆ‘è„‘å­é‡Œæœ€å…ˆè¹¦å‡ºæ¥çš„å°±æ˜¯ä¸‹é¢è¿™å‡ ä¸ªé—®é¢˜ï¼š

**1. ArkTSè¯­è¨€çš„è¿è¡Œæ—¶æ˜¯å•¥ï¼Ÿ**
   æ—¢ç„¶ç¼–ç¨‹è¯­è¨€æ˜¯TSï¼ˆTSçš„æ‹“å±•ï¼ŒArkTSï¼‰ï¼Œé‚£ä¹ˆå®ƒçš„è¿è¡Œæ—¶æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæ˜¯V8ï¼ŸJSCï¼ŸHermesï¼Ÿè¿˜æ˜¯å…¶ä»–ä»€ä¹ˆå‘¢ï¼Ÿ
**2. ArkTSè¿˜æ˜¯å•çº¿ç¨‹è¯­è¨€å—ï¼Ÿ**
   ArkTSè¿˜æ˜¯å’ŒJSä¸€æ ·ï¼Œæ˜¯å•çº¿ç¨‹è¯­è¨€å—ï¼Ÿ
**3. åŸºäºTSæ‹“å±•äº†ä»€ä¹ˆï¼Ÿ**
   TSæ˜¯JSçš„è¶…é›†ï¼Œå¯¹JSè¿›è¡Œäº†æ‹“å±•ï¼Œå¢åŠ äº†å¼€å‘æ—¶çš„ç±»å‹æ”¯æŒã€‚è€ŒArkTSå¯¹å¯¹TSåˆè¿›è¡Œäº†æ‹“å±•ï¼Œæ˜¯TSçš„è¶…é›†ï¼Œé‚£å®ƒåŸºäºTSæ‹“å±•äº†ä»€ä¹ˆå†…å®¹å‘¢ï¼Ÿ

ä¸‹é¢æˆ‘ä»¬ä¸€ä¸ªä¸€ä¸ªæ¥çœ‹ã€‚

### 1. Question1 - ArkTSè¯­è¨€çš„è¿è¡Œæ—¶

å…ˆè¯´ç»“è®ºï¼ŒArkTSçš„è¿è¡Œæ—¶ä¸æ˜¯V8ï¼Œä¸æ˜¯JSCã€Hermesï¼Œä¸æ˜¯ç›®å‰ä»»ä½•ä¸€ç§JSå¼•æ“ã€‚ArkTSçš„è¿è¡Œæ—¶æ˜¯ä¸€ä¸ªè‡ªç ”çš„è¿è¡Œæ—¶ï¼Œå«åšæ–¹èˆŸè¯­è¨€è¿è¡Œæ—¶ï¼ˆç®€ç§°æ–¹èˆŸè¿è¡Œæ—¶ï¼‰ã€‚

![æ–¹èˆŸè¿è¡Œæ—¶](https://static.youfindme.cn/blog//harmony_os_getting_started/runtime.png)

è€Œè¿™ä¸ªè¿è¡Œæ—¶ï¼Œæ‰§è¡Œçš„ä¹Ÿä¸æ˜¯JS/TS/ArkTSä»£ç ï¼Œè€Œæ˜¯æ‰§è¡Œçš„**å­—èŠ‚ç å’Œæœºå™¨ç **ã€‚
è¿™æ˜¯å› ä¸ºæ–¹èˆŸè¿è¡Œæ—¶æ˜¯[ArkCompilerï¼ˆæ–¹èˆŸç¼–è¯‘å™¨ï¼‰](https://developer.huawei.com/consumer/cn/arkcompiler/)çš„ä¸€éƒ¨åˆ†ï¼Œå¯¹äºJS/TS/ArkTSçš„ç¼–è¯‘åœ¨è¿è¡Œå‰å°±è¿›è¡Œäº†ï¼ˆå’ŒHermesæœ‰ç‚¹åƒï¼Œä¸‹é¢ä¼šè®²åˆ°ï¼‰ã€‚

![æ–¹èˆŸå¼€å‘æ¡†æ¶ç¤ºæ„å›¾](https://static.youfindme.cn/blog//harmony_os_getting_started/dev_framework.png)

æˆ‘ä»¬æ¥ç®€å•äº†è§£ä¸€ä¸‹ArkCompilerï¼Œä»å®˜ç½‘çš„æè¿°å¯ä»¥çœ‹åˆ°ï¼ŒArkCompilerå…³æ³¨çš„é‡ç‚¹ä¸»è¦æœ‰ä¸‰ä¸ªæ–¹é¢ï¼š

- AOT ç¼–è¯‘æ¨¡å¼
- LiteActor è½»é‡åŒ–å¹¶å‘
- æºç å®‰å…¨

#### AOT ç¼–è¯‘æ¨¡å¼

é¦–å…ˆæ˜¯ç¼–è¯‘æ¨¡å¼ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œç›®å‰ç¼–ç¨‹è¯­è¨€å¤§å¤šä»¥ä¸‹å‡ æ–¹å¼è¿è¡Œï¼š

- æœºå™¨ç AOTç¼–è¯‘
  åœ¨ç¨‹åºè¿è¡Œä¹‹å‰è¿›è¡ŒASTç”Ÿæˆå’Œä»£ç ç¼–è¯‘ï¼Œç¼–è¯‘ä¸ºæœºå™¨ç ï¼Œåœ¨è¿è¡Œæ— éœ€ç¼–è¯‘ï¼Œç›´æ¥è¿è¡Œï¼Œæ¯”å¦‚Cè¯­è¨€ã€‚
- ä¸­é—´äº§ç‰©AOTç¼–è¯‘
  åœ¨ç¨‹åºè¿è¡Œå‰è¿›è¡ŒASTç”Ÿæˆå¹¶è¿›è¡Œç¼–è¯‘ï¼Œä½†ä¸æ˜¯ç¼–è¯‘ä¸ºæœºå™¨ç ï¼Œè€Œæ˜¯ç¼–è¯‘ä¸ºä¸­é—´äº§ç‰©ï¼Œä¹‹ååœ¨è¿è¡Œæ—¶å°†å­—èŠ‚ç è§£é‡Šä¸ºæœºå™¨ç å†æ‰§è¡Œã€‚æ¯”å¦‚Hermesæˆ–Javaç¼–è¯‘ä¸ºå­—èŠ‚ç ï¼Œä¹‹åè¿è¡Œæ—¶ç”±Hermeså¼•æ“æˆ–JVMè§£é‡Šæ‰§è¡Œå­—èŠ‚ç ã€‚
- å®Œå…¨çš„è§£é‡Šæ‰§è¡Œ
  åœ¨ç¨‹åºè¿è¡Œå‰ä¸è¿›è¡Œä»»ä½•ç¼–è¯‘ï¼Œåœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°æ ¹æ®æºç ç”ŸæˆASTï¼Œå†ç¼–è¯‘ä¸ºå­—èŠ‚ç ï¼Œæœ€åè§£é‡Šæ‰§è¡Œå­—èŠ‚ç ã€‚æ¯”å¦‚æ²¡æœ‰å¼€å¯JITçš„V8å¼•æ“æ‰§è¡ŒJSä»£ç æ—¶çš„æµç¨‹ã€‚
- æ··åˆçš„JITç¼–è¯‘
  åœ¨é€šè¿‡è§£é‡Šæ‰§è¡Œå­—èŠ‚ç æ—¶ï¼ˆè¿è¡Œæ—¶åŠ¨æ€ç”Ÿæˆæˆ–è€…AOTç¼–è¯‘ç”Ÿæˆï¼‰ï¼Œå¯¹å¤šæ¬¡æ‰§è¡Œçš„çƒ­ç‚¹ä»£ç è¿›è¡Œè¿›ä¸€æ­¥çš„ä¼˜åŒ–ç¼–è¯‘ï¼Œç”Ÿæˆæœºå™¨ç ï¼Œåç»­æ‰§è¡Œåˆ°è¿™éƒ¨åˆ†é€»è¾‘æ—¶ï¼Œç›´æ¥æ‰§è¡Œä¼˜åŒ–åçš„æœºå™¨ç ã€‚æ¯”å¦‚[å¼€å¯JITçš„V8å¼•æ“](https://juejin.cn/post/7179130165262286885)è¿è¡ŒJSæˆ–è€…[æ”¯æŒJITçš„JVM](https://tech.meituan.com/2020/10/22/java-jit-practice-in-meituan.html)è¿è¡Œclassæ–‡ä»¶ã€‚

> å½“ç„¶ï¼Œä»¥ä¸Šä»…è€ƒè™‘ç”Ÿäº§ç¯å¢ƒä¸‹çš„è¿è¡Œæ–¹å¼ï¼Œä¸è€ƒè™‘éƒ¨åˆ†è¯­è¨€åœ¨ç”Ÿäº§å’Œå¼€å‘é˜¶æ®µä¸åŒçš„è¿è¡Œæ–¹å¼ã€‚æ¯”å¦‚Dartå’ŒSwiftï¼Œä¸€èˆ¬æ˜¯å¼€å‘é˜¶æ®µé€šè¿‡JITå®æ—¶ç¼–è¯‘å¿«é€Ÿå¯åŠ¨ï¼Œç”Ÿäº§ç¯å¢ƒä¸‹ä¸ºäº†æ€§èƒ½é€šè¿‡AOTç¼–è¯‘ã€‚

åœ¨V8 JITå‡ºç°ä¹‹å‰ï¼Œæ‰€æœ‰çš„JSè™šæ‹Ÿæœºæ‰€é‡‡ç”¨çš„éƒ½æ˜¯é‡‡ç”¨çš„**å®Œå…¨è§£é‡Šæ‰§è¡Œ**çš„æ–¹å¼ï¼Œåœ¨è¿è¡Œæ—¶æŠŠæºç ç”ŸæˆASTè¯­æ³•æ ‘ï¼Œä¹‹åç”Ÿæˆå­—èŠ‚ç ï¼Œç„¶åå°†å­—èŠ‚ç è§£é‡Šä¸ºæœºå™¨ç æ‰§è¡Œï¼Œè¿™æ˜¯JSæ‰§è¡Œé€Ÿåº¦è¿‡æ…¢çš„ä¸»è¦åŸå› ä¹‹ä¸€ã€‚

è€Œè¿™ä¹ˆåšæœ‰ä»¥ä¸‹ä¸¤ä¸ªæ–¹é¢çš„åŸå› ï¼š

- JSæ˜¯åŠ¨æ€è¯­è¨€ï¼Œå˜é‡ç±»å‹åœ¨è¿è¡Œæ—¶å¯èƒ½æ”¹å˜
- JSä¸»è¦ç”¨äºWebåº”ç”¨ï¼ŒWebåº”ç”¨å¦‚æœæå‰ç¼–è¯‘ä¸ºå­—èŠ‚ç å°†å¯¼è‡´ä½“ç§¯å¢å¤§å¾ˆå¤šï¼Œå¯¹ç½‘ç»œèµ„æºçš„æ¶ˆè€—ä¼šæ›´å¤§

æˆ‘ä»¬ä¸€ä¸ªä¸€ä¸ªæ¥è¯´ã€‚

##### a. JSå˜é‡ç±»å‹åœ¨è¿è¡Œæ—¶å¯èƒ½æ”¹å˜

é¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸€å¼ å›¾ï¼Œè¿™å¼ å›¾æè¿°äº†ç°åœ¨V8å¼•æ“çš„å·¥ä½œæµç¨‹ï¼Œç›®å‰Chromeå’ŒNodeé‡Œçš„JSå¼•æ“éƒ½æ˜¯è¿™ä¸ªï¼š

![V8ç°æœ‰å·¥ä½œæµç¨‹](https://static.youfindme.cn/blog//harmony_os_getting_started/v8_work_flow.png)

ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼ŒV8åœ¨æ‹¿åˆ°JSæºç åï¼Œä¼šå…ˆè§£ææˆASTï¼Œä¹‹åç»è¿‡Ignitionè§£é‡Šå™¨æŠŠè¯­æ³•æ ‘ç¼–è¯‘æˆå­—èŠ‚ç ï¼Œç„¶åå†è§£é‡Šå­—èŠ‚ç æ‰§è¡Œã€‚

äºæ­¤åŒæ—¶è¿˜ä¼šæ”¶é›†çƒ­ç‚¹ä»£ç ï¼Œæ¯”å¦‚ä»£ç ä¸€å…±è¿è¡Œäº†å¤šå°‘æ¬¡ã€å¦‚ä½•è¿è¡Œçš„ç­‰ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢çš„Feedbackçš„æµç¨‹ã€‚

å¦‚æœå‘ç°ä¸€æ®µä»£ç ä¼šè¢«é‡å¤æ‰§è¡Œï¼Œåˆ™ç›‘è§†å™¨ä¼šå°†æ­¤æ®µä»£ç æ ‡è®°ä¸ºçƒ­ç‚¹ä»£ç ï¼Œäº¤ç»™V8çš„Turbofanç¼–è¯‘å™¨å¯¹è¿™æ®µå­—èŠ‚ç è¿›è¡Œç¼–è¯‘ï¼Œç¼–è¯‘ä¸ºå¯¹åº”å¹³å°ï¼ˆIntelã€ARMã€MIPSç­‰ï¼‰çš„äºŒè¿›åˆ¶æœºå™¨ç ï¼Œå¹¶æ‰§è¡Œæœºå™¨ç ï¼Œä¹Ÿå°±æ˜¯å›¾é‡Œçš„Optimizeæµç¨‹ã€‚

ç­‰åé¢V8å†æ¬¡æ‰§è¡Œè¿™æ®µä»£ç ï¼Œåˆ™ä¼šè·³è¿‡è§£é‡Šå™¨ï¼Œç›´æ¥è¿è¡Œä¼˜åŒ–åçš„æœºå™¨ç ï¼Œä»è€Œæå‡è¿™æ®µä»£ç çš„è¿è¡Œæ•ˆç‡ã€‚

ä½†æ˜¯æˆ‘ä»¬å‘ç°ï¼Œå›¾é‡Œé¢é™¤äº†Optimizeå¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªDeoptimizeï¼Œ**åä¼˜åŒ–**ï¼Œä¹Ÿå°±æ˜¯è¯´è¢«ä¼˜åŒ–æˆæœºå™¨ç çš„ä»£ç é€»è¾‘ï¼Œå¯èƒ½è¿˜ä¼šè¢«åä¼˜åŒ–å›å­—èŠ‚ç ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ

å…¶å®åŸå› å°±æ˜¯ä¸Šé¢æåˆ°çš„â€œJSå˜é‡ç±»å‹åœ¨è¿è¡Œæ—¶å¯èƒ½æ”¹å˜â€ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š

![JSå˜é‡ç±»å‹åœ¨è¿è¡Œæ—¶å¯èƒ½æ”¹å˜](https://static.youfindme.cn/blog//harmony_os_getting_started/type_change_in_js.png)

æ¯”å¦‚ä¸€ä¸ª`add`å‡½æ•°ï¼Œå› ä¸ºJSæ²¡æœ‰ç±»å‹ä¿¡æ¯ï¼Œåº•å±‚ç¼–è¯‘æˆå­—èŠ‚ç åä¼ªä»£ç é€»è¾‘å¤§æ¦‚å¦‚è¿™å¼ å›¾æ‰€ç¤ºã€‚ä¼šåˆ¤æ–­`x`å’Œ`y`çš„å„ç§ç±»å‹ï¼Œé€»è¾‘æ¯”è¾ƒå¤æ‚ã€‚

åœ¨Ignitionè§£é‡Šå™¨æ‰§è¡Œ`add(1, 2)`æ—¶ï¼Œå·²ç»çŸ¥é“`add`å‡½æ•°çš„ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯æ•´æ•°ï¼Œé‚£ä¹ˆTurboFanåœ¨è¿›ä¸€æ­¥ç¼–è¯‘å­—èŠ‚ç æ—¶ï¼Œå°±å¯ä»¥å‡å®š`add`å‡½æ•°çš„å‚æ•°æ˜¯æ•´æ•°ï¼Œè¿™æ ·å¯ä»¥æå¤§åœ°ç®€åŒ–ç”Ÿæˆçš„æ±‡ç¼–ä»£ç ï¼Œä¸å†åˆ¤æ–­å„ç§ç±»å‹ï¼Œä¼ªä»£ç å¦‚ç¬¬ä¸‰å¼ å›¾é‡Œæ‰€ç¤ºã€‚

æ¥ä¸‹æ¥çš„`add(3, 4)`ä¸`add(5, 6)`ç”±äºå…¥å‚ä¹Ÿæ˜¯æ•´æ•°ï¼Œå¯ä»¥ç›´æ¥æ‰§è¡Œä¹‹å‰ç¼–è¯‘çš„æœºå™¨ç ï¼Œä½†æ˜¯`add("7", "8")`æ—¶ï¼Œå‘ç°å¹¶ä¸æ˜¯æ•´æ•°ï¼Œè¿™æ—¶å€™å°±åªèƒ½å°†è¿™æ®µé€»è¾‘Deoptimizeä¸ºå­—èŠ‚ç ï¼Œç„¶åè§£é‡Šæ‰§è¡Œå­—èŠ‚ç ã€‚

è¿™å°±æ˜¯æ‰€è°“çš„Deoptimizeï¼Œ**åä¼˜åŒ–**ã€‚å¯ä»¥çœ‹å‡ºï¼Œå¦‚æœæˆ‘ä»¬çš„JSä»£ç ä¸­å˜é‡çš„ç±»å‹å˜æ¥å˜å»ï¼Œæ˜¯ä¼šç»™V8å¼•æ“å¢åŠ ä¸å°‘éº»çƒ¦ï¼Œä¸ºäº†æé«˜æ€§èƒ½ï¼Œæˆ‘ä»¬å¯ä»¥å°½é‡ä¸è¦å»æ”¹å˜å˜é‡çš„ç±»å‹ã€‚

è™½ç„¶è¯´ä½¿ç”¨TSå¯ä»¥éƒ¨åˆ†ç¼“è§£è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯TSåªèƒ½çº¦æŸ**å¼€å‘æ—¶**çš„ç±»å‹ï¼Œè¿è¡Œçš„æ—¶å€™TSçš„ç±»å‹ä¿¡æ¯æ˜¯ä¼šè¢«ä¸¢å¼ƒçš„ï¼Œä¹Ÿæ— æ³•çº¦æŸï¼ŒV8è¿˜æ˜¯è¦åšä¸Šé¢çš„ä¸€äº›å‡å®šç±»å‹çš„ä¼˜åŒ–ï¼Œæ— æ³•ä¸€å¼€å§‹å°±ç¼–è¯‘ä¸ºæœºå™¨ç ã€‚

![TSç±»å‹ä¿¡æ¯è¿è¡Œæ—¶è¢«ä¸¢å¼ƒ](https://static.youfindme.cn/blog//harmony_os_getting_started/type_info_discarded.png)

å¯ä»¥è¯´TSçš„ç±»å‹ä¿¡æ¯è¢«æµªè´¹äº†ï¼Œæ²¡æœ‰ç»™è¿è¡Œæ—¶ä»£ç ç‰¹åˆ«å¤§çš„å¥½å¤„ã€‚

##### b. JSç¼–è¯‘ä¸ºå­—èŠ‚ç å°†å¯¼è‡´ä½“ç§¯å¢å¤§

ä¸Šé¢è¯´åˆ°JSä¸»è¦ç”¨äºWebåº”ç”¨ï¼ŒWebåº”ç”¨å¦‚æœæå‰ç¼–è¯‘ä¸ºå­—èŠ‚ç å°†å¯¼è‡´ä½“ç§¯å¢å¤§å¾ˆå¤šï¼Œå¯¹ç½‘ç»œèµ„æºçš„æ¶ˆè€—ä¼šæ›´å¤§ã€‚é‚£ä¹ˆå¯¹äºéWebåº”ç”¨ï¼Œå…¶å®æ˜¯å¯ä»¥åšåˆ°æå‰ç¼–è¯‘ä¸ºå­—èŠ‚ç çš„ï¼Œæ¯”å¦‚Hermeså¼•æ“ã€‚

Hermesä½œä¸ºReact Nativeçš„è¿è¡Œæ—¶ï¼Œæ˜¯ä½œä¸ºAppé¢„è£…åˆ°ç”¨æˆ·çš„è®¾å¤‡ä¸Šï¼Œé™¤äº†çƒ­æ›´æ–°è¿™ç§åœºæ™¯å¤–ï¼Œç»å¤§éƒ¨åˆ†æƒ…å†µä¸‹æ˜¯ä¸éœ€è¦æ‰“å¼€Appæ—¶åŠ¨æ€ä¸‹è½½ä»£ç èµ„æºçš„ï¼Œæ‰€ä»¥ä½“ç§¯å¢å¤§çš„é—®é¢˜å½±å“ä¸æ˜¯å¾ˆå¤§ï¼Œä½†æ˜¯é¢„ç¼–è¯‘å¸¦æ¥çš„è¿è¡Œæ—¶æ•ˆç‡æå‡çš„å¥½å¤„å´æ¯”è¾ƒæ˜æ˜¾ã€‚

æ‰€ä»¥ç›¸å¯¹äºV8ï¼ŒHermes[å»æ‰äº†JITï¼Œæ”¯æŒäº†ç”Ÿæˆå­—èŠ‚ç ](https://supercodepower.com/mobile-javascript-engines#3hermes)ï¼Œåœ¨æ„å»ºAppçš„æ—¶å€™ï¼Œå°±æŠŠJSä»£ç è¿›è¡Œäº†é¢„ç¼–è¯‘ï¼Œé¢„ç¼–è¯‘ä¸ºäº†Hermesè¿è¡Œæ—¶å¯ä»¥ç›´æ¥å¤„ç†çš„å­—èŠ‚ç ï¼Œçœå»äº†åœ¨è¿è¡Œé˜¶æ®µè§£æASTè¯­æ³•æ ‘ã€ç¼–è¯‘ä¸ºå­—èŠ‚ç çš„å·¥ä½œã€‚

![Hermeså¯¹JSç¼–è¯‘å’Œæ‰§è¡Œæµç¨‹çš„æ”¹è¿›](https://static.youfindme.cn/blog//harmony_os_getting_started/optimize_in_hermes.png)

> ä¸€å¥é¢˜å¤–è¯ï¼Œè¿™é‡Œå»æ‰JITé™¤äº†JITä¼šå¯¼è‡´JSå¼•æ“å¯åŠ¨æ—¶é—´å˜é•¿ã€å†…å­˜å ç”¨å¢å¤§å¤–ï¼Œè¿˜æœ‰ä¸€éƒ¨åˆ†å¯èƒ½çš„åŸå› æ˜¯iOSä¸ºäº†å®‰å…¨è€ƒè™‘ï¼Œä¸å…è®¸é™¤äº†Safariå’ŒWebViewä¹‹å¤–çš„ç¬¬ä¸‰æ–¹åº”ç”¨é‡Œç›´æ¥ä½¿ç”¨JSCçš„JITèƒ½åŠ›ï¼Œä¹Ÿä¸å…è®¸ç¬¬ä¸‰æ–¹JSè¿è¡Œæ—¶æ”¯æŒJITï¼ˆç›¸å…³é—®é¢˜ï¼‰ã€‚
>
> ç”šè‡³V8ä¸“é—¨å‡ºäº†ä¸€ä¸ªå»æ‰JITçš„JIT-less V8ç‰ˆæœ¬æ¥åœ¨iOSä¸Šé›†æˆï¼ŒHermesä¼¼ä¹ä¹Ÿä¸å¤ªå¯èƒ½å®Œå…¨æ²¡è€ƒè™‘åˆ°è¿™ä¸€ç‚¹ã€‚

##### c. å–é•¿è¡¥çŸ­

åœ¨è®¨è®ºäº†V8çš„JITå’ŒHermesçš„é¢„ç¼–è¯‘ä¹‹åï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹ArkCompilerï¼Œæˆªå–ä¸€æ®µ[å®˜æ–¹åšå®¢é‡Œçš„æè¿°](https://mp.weixin.qq.com/s/8UHznZenc7A_UICta2bETg)ï¼š

![åšå®¢æè¿°](https://static.youfindme.cn/blog//harmony_os_getting_started/blog_desc_of_arkcompiler.png)

è¿˜è®°å¾—ä¸Šé¢è¯´çš„â€œTSçš„ç±»å‹ä¿¡æ¯è¢«æµªè´¹äº†â€å—ï¼ŸTSçš„ç±»å‹ä¿¡æ¯åªåœ¨å¼€å‘æ—¶æœ‰ç”¨ï¼Œåœ¨ç¼–è¯‘é˜¶æ®µå°±è¢«ä¸¢å¼ƒäº†ï¼Œè€ŒArkCompilerå°±æ˜¯åˆ©ç”¨äº†è¿™ä¸€ç‚¹ï¼Œç›´æ¥åœ¨Appæ„å»ºé˜¶æ®µï¼Œåˆ©ç”¨TSçš„ç±»å‹ä¿¡æ¯ç›´æ¥é¢„ç¼–è¯‘ä¸ºå­—èŠ‚ç ä»¥åŠä¼˜åŒ–æœºå™¨ç ã€‚

å³åœ¨ArkCompilerä¸­ï¼Œä¸å­˜åœ¨TS->JSçš„è¿™ä¸€æ­¥è½¬è¯‘ï¼Œè€Œæ˜¯ç›´æ¥ä»TSç¼–è¯‘ä¸ºäº†å­—èŠ‚ç å’Œä¼˜åŒ–æœºå™¨ç ã€‚åŒæ—¶ç”±äºé¸¿è’™åº”ç”¨ä¹Ÿæ˜¯ä¸€ä¸ªAppè€Œä¸æ˜¯Webåº”ç”¨ï¼Œæ‰€ä»¥ArkCompilerå’ŒHermesä¸€æ ·ï¼Œä¹Ÿæ˜¯åœ¨æ„å»ºAppæ—¶å°±è¿›è¡Œäº†é¢„ç¼–è¯‘ï¼Œè€Œä¸æ˜¯åœ¨è¿è¡Œé˜¶æ®µåšè¿™ä¸ªäº‹æƒ…ã€‚

![ArkCompilerå¯¹JS/TSç¼–è¯‘å’Œæ‰§è¡Œæµç¨‹çš„æ”¹è¿›](https://static.youfindme.cn/blog//harmony_os_getting_started/optimize_in_arkcompiler.png)

ç®€å•æ€»ç»“ä¸‹æ¥ï¼ŒArkCompileråƒHermesä¸€æ ·æ”¯æŒç”Ÿæˆå­—èŠ‚ç ï¼ŒåŒæ—¶åˆå°†V8å¼•æ“JITç”Ÿæˆæœºå™¨ç çš„å·¥ä½œä¹Ÿæå‰åœ¨é¢„ç¼–è¯‘é˜¶æ®µåšäº†ã€‚æ˜¯æ¯”Hermesåªç”Ÿæˆå­—èŠ‚ç çš„AOTæ›´è¿›ä¸€æ­¥çš„AOTï¼ˆåŒæ—¶ç”Ÿæˆå­—èŠ‚ç å’Œéƒ¨åˆ†ä¼˜åŒ–åçš„æœºå™¨ç ï¼‰ã€‚

#### LiteActorè½»é‡åŒ–å¹¶å‘

åˆ°è¿™é‡Œå…¶å®å·²ç»å¯ä»¥å›ç­”ä¸Šé¢è®²åˆ°çš„ç¬¬äºŒä¸ªé—®é¢˜äº†ï¼ŒArkTSè¿˜æ˜¯å•çº¿ç¨‹è¯­è¨€å—ï¼Ÿ

ç­”æ¡ˆæ˜¯ï¼šæ˜¯çš„ï¼Œè¿˜æ˜¯å•çº¿ç¨‹è¯­è¨€ã€‚ä½†æ˜¯ArkTSé‡Œé€šè¿‡[Workerå’ŒTaskTool](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V2/taskpool-vs-worker-0000001632849934-V2)è¿™ä¸¤ç§æ–¹å¼æ”¯æŒå¹¶å‘ã€‚

åŒæ—¶ArkCompilerå¯¹ç°æœ‰çš„Workerè¿›è¡Œäº†ä¸€äº›ä¼˜åŒ–ï¼Œç›´æ¥çœ‹[å®˜ç½‘åšå®¢](https://mp.weixin.qq.com/s/8UHznZenc7A_UICta2bETg)ï¼š

![LiteActorè½»é‡åŒ–å¹¶å‘](https://static.youfindme.cn/blog//harmony_os_getting_started/lite_actor.png)

![LiteActorè½»é‡åŒ–å¹¶å‘åšå®¢æè¿°](https://static.youfindme.cn/blog//harmony_os_getting_started/blog_desc_of_lite_actor.png)

è¿™é‡Œçš„Actoræ˜¯ä»€ä¹ˆå‘¢ï¼ŸActoræ˜¯ä¸€ç§å¹¶å‘ç¼–ç¨‹é‡Œçš„çº¿ç¨‹æ¨¡å‹ã€‚

çº¿ç¨‹æ¨¡å‹æ¯”è¾ƒå¸¸è§çš„å°±æ˜¯å…±äº«å†…å­˜æ¨¡å‹ï¼Œå¤šä¸ªçº¿ç¨‹ä¹‹é—´å…±äº«å†…å­˜ï¼Œæ¯”å¦‚Javaé‡Œå¤šä¸ªçº¿ç¨‹å…±äº«å†…å­˜æ•°æ®ï¼Œéœ€è¦é€šè¿‡`synchronized`åŒæ­¥é”ä¹‹ç±»çš„æ¥é˜²æ­¢æ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ã€‚

Actoræ¨¡å‹æ˜¯å¦ä¸€ç§çº¿ç¨‹æ¨¡å‹ï¼Œâ€œActorâ€æ˜¯å¤„ç†å¹¶å‘è®¡ç®—çš„åŸºæœ¬å•ä½ï¼Œæ¯ä¸ªActoréƒ½æœ‰è‡ªå·±çš„çŠ¶æ€ï¼Œå¹¶ä¸”å¯ä»¥æ¥æ”¶å’Œå‘é€æ¶ˆæ¯ã€‚å½“ä¸€ä¸ªActoræ¥æ”¶åˆ°æ¶ˆæ¯æ—¶ï¼Œå®ƒå¯ä»¥æ”¹å˜è‡ªå·±çš„çŠ¶æ€ï¼Œå‘é€æ¶ˆæ¯ç»™å…¶ä»–Actorï¼Œæˆ–è€…åˆ›å»ºæ–°çš„Actorã€‚

è¿™ç§æ¨¡å‹å¯ä»¥å¸®åŠ©å¼€å‘è€…æ›´å¥½åœ°ç®¡ç†å¤æ‚çš„çŠ¶æ€å’Œå¹¶å‘é—®é¢˜ï¼Œå› ä¸ºæ¯ä¸ªActoréƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œå®ƒä»¬ä¹‹é—´ä¸ä¼šå…±äº«çŠ¶æ€ï¼Œè¿™å¯ä»¥é¿å…å¾ˆå¤šå¹¶å‘é—®é¢˜ã€‚åŒæ—¶ï¼ŒActoræ¨¡å‹ä¹Ÿä½¿å¾—ä»£ç æ›´æ˜“äºç†è§£å’Œç»´æŠ¤ï¼Œå› ä¸ºæ¯ä¸ªActoréƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œå®ƒä»¬çš„è¡Œä¸ºå¯ä»¥è¢«æ¸…æ™°åœ°å®šä¹‰å’Œéš”ç¦»ã€‚

åˆ°è¿™é‡Œå¤§å®¶åº”è¯¥å·²ç»æ¯”è¾ƒæ˜ç™½äº†ï¼Œå‰ç«¯é‡Œçš„Web Workerå°±æ˜¯è¿™ç§çº¿ç¨‹æ¨¡å‹çš„ä¸€ç§ä½“ç°ï¼Œé€šè¿‡Workeræ¥å¼€å¯ä¸åŒçš„çº¿ç¨‹ã€‚

#### æºç å®‰å…¨

æŒ‰ç…§[å®˜ç½‘](https://developer.huawei.com/consumer/cn/arkcompiler/)çš„è¯´æ³•ï¼ŒArkCompilerä¼šæŠŠArkTSç¼–è¯‘ä¸ºå­—èŠ‚ç ï¼Œå¹¶ä¸”ArkCompilerä½¿ç”¨å¤šç§æ··æ·†æŠ€æœ¯æä¾›æ›´é«˜å¼ºåº¦çš„æ··æ·†ä¸ä¿æŠ¤ï¼Œä½¿å¾—HarmonyOSåº”ç”¨åŒ…ä¸­è£…è½½çš„æ˜¯å¤šé‡æ··æ·†åçš„å­—èŠ‚ç ï¼Œæœ‰æ•ˆæé«˜äº†åº”ç”¨ä»£ç å®‰å…¨çš„å¼ºåº¦ã€‚

![æºç å®‰å…¨](https://static.youfindme.cn/blog//harmony_os_getting_started/source_code_security.gif)

### 2. Question2 - ArkTSè¿˜æ˜¯å•çº¿ç¨‹è¯­è¨€å—

è¿™ä¸ªåˆšåˆšå·²ç»å›ç­”äº†ï¼Œè¿˜æ˜¯å•çº¿ç¨‹è¯­è¨€ï¼Œå€Ÿç”¨å®˜ç½‘çš„æè¿°ï¼š

> HarmonyOSåº”ç”¨ä¸­æ¯ä¸ªè¿›ç¨‹éƒ½ä¼šæœ‰ä¸€ä¸ªä¸»çº¿ç¨‹ï¼Œä¸»çº¿ç¨‹æœ‰å¦‚ä¸‹èŒè´£ï¼š
>
> 1. æ‰§è¡ŒUIç»˜åˆ¶ï¼›
> 2. ç®¡ç†ä¸»çº¿ç¨‹çš„ArkTSå¼•æ“å®ä¾‹ï¼Œä½¿å¤šä¸ªUIAbilityç»„ä»¶èƒ½å¤Ÿè¿è¡Œåœ¨å…¶ä¹‹ä¸Šï¼›
> 3. ç®¡ç†å…¶ä»–çº¿ç¨‹ï¼ˆä¾‹å¦‚Workerçº¿ç¨‹ï¼‰çš„ArkTSå¼•æ“å®ä¾‹ï¼Œä¾‹å¦‚å¯åŠ¨å’Œç»ˆæ­¢å…¶ä»–çº¿ç¨‹ï¼›
> 4. åˆ†å‘äº¤äº’äº‹ä»¶ï¼›
> 5. å¤„ç†åº”ç”¨ä»£ç çš„å›è°ƒï¼ŒåŒ…æ‹¬äº‹ä»¶å¤„ç†å’Œç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼›
> 6. æ¥æ”¶Workerçº¿ç¨‹å‘é€çš„æ¶ˆæ¯ï¼›
>
> é™¤ä¸»çº¿ç¨‹å¤–ï¼Œè¿˜æœ‰ä¸€ç±»ä¸ä¸»çº¿ç¨‹å¹¶è¡Œçš„ç‹¬ç«‹çº¿ç¨‹Workerï¼Œä¸»è¦ç”¨äºæ‰§è¡Œè€—æ—¶æ“ä½œï¼Œä½†ä¸å¯ä»¥ç›´æ¥æ“ä½œUIã€‚Workerçº¿ç¨‹åœ¨ä¸»çº¿ç¨‹ä¸­åˆ›å»ºï¼Œä¸ä¸»çº¿ç¨‹ç›¸äº’ç‹¬ç«‹ã€‚æœ€å¤šå¯ä»¥åˆ›å»º8ä¸ªWorkerã€‚

![ArkTSçº¿ç¨‹æ¨¡å‹](https://static.youfindme.cn/blog//harmony_os_getting_started/threading_model.png)

### 3. Question3 - åŸºäºTSæ‹“å±•äº†ä»€ä¹ˆ

å½“å‰ï¼ŒArkTSåœ¨TSçš„åŸºç¡€ä¸Šä¸»è¦æ‰©å±•äº†å¦‚ä¸‹èƒ½åŠ›ï¼š

- [åŸºæœ¬è¯­æ³•](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V2/arkts-basic-syntax-overview-0000001531611153-V2)ï¼šArkTSå®šä¹‰äº†å£°æ˜å¼UIæè¿°ã€è‡ªå®šä¹‰ç»„ä»¶å’ŒåŠ¨æ€æ‰©å±•UIå…ƒç´ çš„èƒ½åŠ›ï¼Œå†é…åˆArkUIå¼€å‘æ¡†æ¶ä¸­çš„ç³»ç»Ÿç»„ä»¶åŠå…¶ç›¸å…³çš„äº‹ä»¶æ–¹æ³•ã€å±æ€§æ–¹æ³•ç­‰å…±åŒæ„æˆäº†UIå¼€å‘çš„ä¸»ä½“ã€‚
- [çŠ¶æ€ç®¡ç†](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V2/arkts-state-management-overview-0000001524537145-V2)ï¼šArkTSæä¾›äº†å¤šç»´åº¦çš„çŠ¶æ€ç®¡ç†æœºåˆ¶ã€‚åœ¨UIå¼€å‘æ¡†æ¶ä¸­ï¼Œä¸UIç›¸å…³è”çš„æ•°æ®å¯ä»¥åœ¨ç»„ä»¶å†…ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥åœ¨ä¸åŒç»„ä»¶å±‚çº§é—´ä¼ é€’ï¼Œæ¯”å¦‚çˆ¶å­ç»„ä»¶ä¹‹é—´ã€çˆ·å­™ç»„ä»¶ä¹‹é—´ï¼Œè¿˜å¯ä»¥åœ¨åº”ç”¨å…¨å±€èŒƒå›´å†…ä¼ é€’æˆ–è·¨è®¾å¤‡ä¼ é€’ã€‚å¦å¤–ï¼Œä»æ•°æ®çš„ä¼ é€’å½¢å¼æ¥çœ‹ï¼Œå¯åˆ†ä¸ºåªè¯»çš„å•å‘ä¼ é€’å’Œå¯å˜æ›´çš„åŒå‘ä¼ é€’ã€‚å¼€å‘è€…å¯ä»¥çµæ´»åœ°åˆ©ç”¨è¿™äº›èƒ½åŠ›æ¥å®ç°æ•°æ®å’ŒUIçš„è”åŠ¨ã€‚
- [æ¸²æŸ“æ§åˆ¶](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V2/arkts-rendering-control-overview-0000001543911149-V2)ï¼šArkTSæä¾›äº†æ¸²æŸ“æ§åˆ¶çš„èƒ½åŠ›ã€‚æ¡ä»¶æ¸²æŸ“å¯æ ¹æ®åº”ç”¨çš„ä¸åŒçŠ¶æ€ï¼Œæ¸²æŸ“å¯¹åº”çŠ¶æ€ä¸‹çš„UIå†…å®¹ã€‚å¾ªç¯æ¸²æŸ“å¯ä»æ•°æ®æºä¸­è¿­ä»£è·å–æ•°æ®ï¼Œå¹¶åœ¨æ¯æ¬¡è¿­ä»£è¿‡ç¨‹ä¸­åˆ›å»ºç›¸åº”çš„ç»„ä»¶ã€‚æ•°æ®æ‡’åŠ è½½ä»æ•°æ®æºä¸­æŒ‰éœ€è¿­ä»£æ•°æ®ï¼Œå¹¶åœ¨æ¯æ¬¡è¿­ä»£è¿‡ç¨‹ä¸­åˆ›å»ºç›¸åº”çš„ç»„ä»¶ã€‚

è€Œä¸Šé¢è¿™äº›ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æ¥ä¸‹æ¥è¦ä»‹ç»çš„ArkTS+ArkUIçš„è¯­æ³•ã€‚

## å››ã€ ArkTS & ArkUI

é¦–å…ˆï¼Œåœ¨èŠArkUIä¹‹å‰ï¼Œè¿˜æœ‰ä¸€ä¸ªé—®é¢˜å¤§å®¶å¯èƒ½æ¯”è¾ƒæ„Ÿå…´è¶£ï¼šArkUIæ˜¯æ€ä¹ˆæ¸²æŸ“æˆ‘ä»¬å†™çš„UIå‘¢ï¼Ÿ

ç­”æ¡ˆæ˜¯**è‡ªç»˜**ï¼Œç±»ä¼¼äºFlutterï¼Œä½¿ç”¨è‡ªå·±çš„æ¸²æŸ“å¼•æ“ï¼ˆåº”è¯¥æ˜¯å‘å±•äºSkiaï¼‰ï¼Œè€Œä¸æ˜¯åƒRNé‚£æ ·å°†UIè½¬ä¸ºä¸åŒå¹³å°ä¸Šçš„åº•å±‚UIã€‚

ä¸ç®¡æ˜¯ä»å®˜ç½‘çš„æè¿°[[1](https://developer.huawei.com/consumer/cn/arkui/)]ã€[[2](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V2/arkts-ui-development-overview-0000001438467628-V2)]æ¥çœ‹ï¼Œè¿˜æ˜¯ç¤¾åŒºé‡Œçš„[è®¨è®º](https://juejin.cn/post/7280006531922673719#heading-0)æ¥çœ‹ï¼ŒArkUIçš„æ¸²æŸ“æ— ç–‘æ˜¯è‡ªç»˜åˆ¶çš„ï¼Œå¹¶ä¸”ArkUIå’ŒFlutterä¹‹é—´çš„è”ç³»å¾ˆå¯†åˆ‡ï¼š

![ç¤¾åŒºé‡Œçš„ä¸€äº›è®¨è®º](https://static.youfindme.cn/blog//harmony_os_getting_started/discuss_of_arkui.png)

### 1. åŸºæœ¬è¯­æ³•

ä»å‰ç«¯çš„è§’åº¦æ¥çœ‹ï¼ŒArkTSå’ŒArkUIçš„å®šä½å…¶å®å°±æ˜¯ç±»ä¼¼äºå‰ç«¯ä¸­TS+React+é…å¥—çŠ¶æ€ç®¡ç†å·¥å…·ï¼ˆå¦‚Reduxï¼‰ï¼Œå¯ä»¥ç”¨TSå†™å£°æ˜å¼UIï¼ˆæœ‰ç‚¹åƒå†™jsxï¼‰ï¼Œä¸‹é¢æ˜¯åŸºæœ¬è¯­æ³•ï¼š

![åŸºæœ¬è¯­æ³•](https://static.youfindme.cn/blog//harmony_os_getting_started/basic_grammar.png)

- è£…é¥°å™¨
  ç”¨äºè£…é¥°ç±»ã€ç»“æ„ã€æ–¹æ³•ä»¥åŠå˜é‡ï¼Œå¹¶èµ‹äºˆå…¶ç‰¹æ®Šçš„å«ä¹‰ã€‚
  
  å¦‚ä¸Šè¿°ç¤ºä¾‹ä¸­@Entryã€@Componentå’Œ@Stateéƒ½æ˜¯è£…é¥°å™¨ï¼Œ[@Component](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V2/arkts-create-custom-components-0000001473537046-V2#section1430055924816)è¡¨ç¤ºè‡ªå®šä¹‰ç»„ä»¶ï¼Œ[@Entry](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V2/arkts-create-custom-components-0000001473537046-V2#section1430055924816)è¡¨ç¤ºè¯¥è‡ªå®šä¹‰ç»„ä»¶ä¸ºå…¥å£ç»„ä»¶ï¼Œ[@State](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V2/arkts-state-0000001474017162-V2)è¡¨ç¤ºç»„ä»¶ä¸­çš„çŠ¶æ€å˜é‡ï¼ŒçŠ¶æ€å˜é‡å˜åŒ–ä¼šè§¦å‘UIåˆ·æ–°
- è‡ªå®šä¹‰ç»„ä»¶
  å¯å¤ç”¨çš„UIå•å…ƒï¼Œå¯ç»„åˆå…¶ä»–ç»„ä»¶ï¼Œå¦‚ä¸Šè¿°è¢«@Componentè£…é¥°çš„`struct Hello`
- UIæè¿°
  ä»¥å£°æ˜å¼çš„æ–¹å¼æ¥æè¿°UIçš„ç»“æ„ï¼Œä¾‹å¦‚`build()`æ–¹æ³•ä¸­çš„ä»£ç å—
- ç³»ç»Ÿç»„ä»¶
  ArkUIæ¡†æ¶ä¸­é»˜è®¤å†…ç½®çš„åŸºç¡€å’Œå®¹å™¨ç»„ä»¶ï¼Œå¯ç›´æ¥è¢«å¼€å‘è€…è°ƒç”¨ï¼Œæ¯”å¦‚ç¤ºä¾‹ä¸­çš„`Column`ã€`Text`ã€`Divider`ã€`Button`
- äº‹ä»¶æ–¹æ³•
  ç»„ä»¶å¯ä»¥é€šè¿‡é“¾å¼è°ƒç”¨è®¾ç½®å¤šä¸ªäº‹ä»¶çš„å“åº”é€»è¾‘ï¼Œå¦‚è·Ÿéšåœ¨`Button`åé¢çš„`onClick()`
- å±æ€§æ–¹æ³•
  ç»„ä»¶å¯ä»¥é€šè¿‡é“¾å¼è°ƒç”¨é…ç½®å¤šé¡¹å±æ€§ï¼Œå¦‚`fontSize()`ã€`width()`ã€`height()`ã€`backgroundColor()`ç­‰

### 2. æ•°æ®é©±åŠ¨UI

ä½œä¸ºä¸€ä¸ªå£°æ˜å¼çš„UIæ¡†æ¶ï¼ŒArkUIå’Œå…¶ä»–ä¼—å¤šUIæ¡†æ¶ï¼ˆæ¯”å¦‚Reactã€Vueï¼‰ä¸€æ ·ï¼Œéƒ½æ˜¯é€šè¿‡æ•°æ®æ¥é©±åŠ¨UIå˜åŒ–çš„ï¼Œå³`UI = f(State)`ã€‚æˆ‘ä»¬è¿™é‡Œå¼•ç”¨ä¸€ä¸‹å®˜ç½‘çš„æè¿°ï¼š

> åœ¨å£°æ˜å¼UIç¼–ç¨‹æ¡†æ¶ä¸­ï¼ŒUIæ˜¯ç¨‹åºçŠ¶æ€çš„è¿è¡Œç»“æœï¼Œç”¨æˆ·æ„å»ºäº†ä¸€ä¸ªUIæ¨¡å‹ï¼Œå…¶ä¸­åº”ç”¨çš„è¿è¡Œæ—¶çš„çŠ¶æ€æ˜¯å‚æ•°ã€‚å½“å‚æ•°æ”¹å˜æ—¶ï¼ŒUIä½œä¸ºè¿”å›ç»“æœï¼Œä¹Ÿå°†è¿›è¡Œå¯¹åº”çš„æ”¹å˜ã€‚è¿™äº›è¿è¡Œæ—¶çš„çŠ¶æ€å˜åŒ–æ‰€å¸¦æ¥çš„UIçš„é‡æ–°æ¸²æŸ“ï¼Œåœ¨ArkUIä¸­ç»Ÿç§°ä¸ºçŠ¶æ€ç®¡ç†æœºåˆ¶ã€‚
>
> è‡ªå®šä¹‰ç»„ä»¶æ‹¥æœ‰å˜é‡ï¼Œå˜é‡å¿…é¡»è¢«è£…é¥°å™¨è£…é¥°æ‰å¯ä»¥æˆä¸ºçŠ¶æ€å˜é‡ï¼ŒçŠ¶æ€å˜é‡çš„æ”¹å˜ä¼šå¼•èµ·UIçš„æ¸²æŸ“åˆ·æ–°ã€‚å¦‚æœä¸ä½¿ç”¨çŠ¶æ€å˜é‡ï¼ŒUIåªèƒ½åœ¨åˆå§‹åŒ–æ—¶æ¸²æŸ“ï¼Œåç»­å°†ä¸ä¼šå†åˆ·æ–°ã€‚ ä¸‹å›¾å±•ç¤ºäº†Stateå’ŒViewï¼ˆUIï¼‰ä¹‹é—´çš„å…³ç³»ã€‚

![Stateå’ŒUI](https://static.youfindme.cn/blog//harmony_os_getting_started/state_and_ui.png)

> View(UI)ï¼šUIæ¸²æŸ“ï¼ŒæŒ‡å°†buildæ–¹æ³•å†…çš„UIæè¿°å’Œ@Builderè£…é¥°çš„æ–¹æ³•å†…çš„UIæè¿°æ˜ å°„åˆ°ç•Œé¢ã€‚
> Stateï¼šçŠ¶æ€ï¼ŒæŒ‡é©±åŠ¨UIæ›´æ–°çš„æ•°æ®ã€‚ç”¨æˆ·é€šè¿‡è§¦å‘ç»„ä»¶çš„äº‹ä»¶æ–¹æ³•ï¼Œæ”¹å˜çŠ¶æ€æ•°æ®ã€‚çŠ¶æ€æ•°æ®çš„æ”¹å˜ï¼Œå¼•èµ·UIçš„é‡æ–°æ¸²æŸ“ã€‚

åœ¨ArkUIä¸­ï¼Œæä¾›äº†å¤§é‡çš„çŠ¶æ€ç®¡ç†ç›¸å…³çš„è£…é¥°å™¨ï¼Œæ¯”å¦‚`@State`ã€`@Prop`ã€`@Link`ç­‰ã€‚

![ArkTS & ArkUIçš„çŠ¶æ€ç®¡ç†æ€»è§ˆ](https://static.youfindme.cn/blog//harmony_os_getting_started/overview_of_state.png)

æ›´å¤šç»†èŠ‚è¯¦è§[çŠ¶æ€ç®¡ç†](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V2/arkts-state-management-0000001524177629-V2)ã€‚

### 3. æ¸²æŸ“æ§åˆ¶

åœ¨ArkUIä¸­ï¼Œå¯ä»¥åƒReacté‚£æ ·ï¼Œé€šè¿‡`if else`ï¼Œ`for each`ç­‰è¿›è¡Œè·³è½¬æ¸²æŸ“ã€åˆ—è¡¨æ¸²æŸ“ç­‰ï¼Œæ›´å¤šç»†èŠ‚è¯¦è§[æ¸²æŸ“æ§åˆ¶](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V2/arkts-rendering-control-0000001504769325-V2)ã€‚

> ArkUIé€šè¿‡[è‡ªå®šä¹‰ç»„ä»¶](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V2/arkts-create-custom-components-0000001473537046-V2)çš„`build()`å‡½æ•°å’Œ`@builder`[è£…é¥°å™¨](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V2/arkts-builder-0000001524176981-V2)ä¸­çš„å£°æ˜å¼UIæè¿°è¯­å¥æ„å»ºç›¸åº”çš„UIã€‚åœ¨å£°æ˜å¼æè¿°è¯­å¥ä¸­å¼€å‘è€…é™¤äº†ä½¿ç”¨ç³»ç»Ÿç»„ä»¶å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨æ¸²æŸ“æ§åˆ¶è¯­å¥æ¥è¾…åŠ©UIçš„æ„å»ºï¼Œè¿™äº›æ¸²æŸ“æ§åˆ¶è¯­å¥åŒ…æ‹¬æ§åˆ¶ç»„ä»¶æ˜¯å¦æ˜¾ç¤ºçš„æ¡ä»¶æ¸²æŸ“è¯­å¥ï¼ŒåŸºäºæ•°ç»„æ•°æ®å¿«é€Ÿç”Ÿæˆç»„ä»¶çš„å¾ªç¯æ¸²æŸ“è¯­å¥ä»¥åŠé’ˆå¯¹å¤§æ•°æ®é‡åœºæ™¯çš„æ•°æ®æ‡’åŠ è½½è¯­å¥ã€‚

### 4. æ›´å¤šè¯­æ³•

è¯­æ³•å…¶å®ä¸æ˜¯æˆ‘ä»¬è¿™ç¯‡æ–‡ç« çš„é‡ç‚¹ï¼Œä¸Šé¢æ˜¯ä¸€äº›å¤§æ¦‚çš„ä»‹ç»ï¼Œæ›´å¤šè¯­æ³•å¯ä»¥è¯¦è§[å®˜ç½‘](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V2/arkts-basic-syntax-0000001504650057-V2)ï¼Œæˆ–è€…æˆ‘çš„å¦å¤–ä¸€ç¯‡ä¸“é—¨è®²è§£è¯­æ³•çš„ç¬”è®°ã€Šå‰ç«¯è§†è§’ä¸‹çš„ArkTSè¯­æ³•ã€‹(å…ˆç•™ä¸ªå ä½ç¬¦ï¼Œæœ‰æ—¶é—´äº†è¡¥å……ä¸€ä¸‹)ã€‚

### 5. ArkTS & ArkUIå°ç»“

ä»å‰é¢çš„å†…å®¹å…¶å®å¯ä»¥çœ‹åˆ°ï¼ŒArkUIå’ŒRNç›¸ä¼¼ç‚¹è¿˜æŒºå¤šçš„ï¼š

1. éƒ½æ˜¯ä½¿ç”¨JS/TSä½œä¸ºè¯­è¨€ï¼ˆArkTSï¼‰
2. éƒ½æœ‰è‡ªå·±çš„JSå¼•æ“/è¿è¡Œæ—¶ï¼ˆArkCompilerï¼Œæ–¹èˆŸè¿è¡Œæ—¶ï¼‰
3. å¼•æ“è¿˜éƒ½æ”¯æŒç›´æ¥AOTç¼–è¯‘æˆå­—èŠ‚ç 

ä¸åŒçš„æ˜¯RNæ˜¯å°†JSå£°æ˜çš„UIï¼Œè½¬æ¢æˆiOSã€AndroidåŸç”Ÿçš„ç»„ä»¶æ¥æ¸²æŸ“ï¼Œè€ŒArkUIåˆ™æ˜¯é‡‡ç”¨è‡ªç»˜åˆ¶çš„æ¸²æŸ“å¼•æ“æ¥è‡ªç»˜UIã€‚

ä»è¿™ç‚¹æ¥çœ‹ï¼Œé¸¿è’™æ›´åƒæ˜¯Flutterï¼Œåªä¸è¿‡æŠŠå¼€å‘è¯­è¨€ä»Dartæ¢æˆäº†JS/TSï¼ˆArkTSï¼‰ï¼Œå’ŒFlutteråŒæ ·æ˜¯è‡ªç»˜åˆ¶çš„æ¸²æŸ“å¼•æ“ã€‚

ç¤¾åŒºé‡Œå…¶å®ä¹Ÿæœ‰ç±»ä¼¼çš„æ€è€ƒï¼šå…¶å®ƒæ–¹å‘çš„æ¢ç´¢ï¼š[JS Engine + Flutter RenderPipeLine](https://supercodepower.com/cross-platform-tech#6%E5%85%B6%E5%AE%83%E6%96%B9%E5%90%91%E7%9A%84%E6%8E%A2%E7%B4%A2js-engine--flutter-rnderpipeline)ã€‚è€ŒArkUIåˆ™æ˜¯å¯¹è¿™ç§æ€è·¯çš„å®ç°ã€‚

æ„Ÿè§‰è¿™ä¹Ÿå¯ä»¥ä»ä¾§é¢è§£é‡Šä¸ºä»€ä¹ˆArkUIçš„è¯­æ³•å’ŒFlutteræ¯”è¾ƒåƒï¼Œåº”è¯¥å‚è€ƒäº†ä¸å°‘Flutterçš„å®ç°ï¼ˆæ¯”å¦‚æ¸²æŸ“å¼•æ“ï¼‰ã€‚

è€Œåä¸ºå®£ç§°é¸¿è’™å¯ä»¥åå‘å…¼å®¹Flutterç”šè‡³æ˜¯RNä¹Ÿå°±æ²¡æœ‰é‚£ä¹ˆéš¾ä»¥ç†è§£äº†ï¼Œæ¯•ç«ŸArkUIé‡ŒFlutterå’ŒRNçš„å½±å­ç¡®å®ä¸å°‘ã€‚

å¦å¤–,é™¤äº†ArkUIä»¥å¤–ï¼Œåä¸ºè¿˜æä¾›äº†ä¸€ä¸ªè·¨å¹³å°çš„å¼€å‘æ¡†æ¶[ArkUI-X](https://gitee.com/arkui-x)ï¼Œå¯ä»¥åƒFlutteré‚£æ ·ï¼Œè·¨HarmonyOSã€Androidã€iOSä¸‰ä¸ªå¹³å°ã€‚

è¿™ä¹ˆçœ‹æ¥ï¼ŒArkTS&ArkUIä»å¼€å‘è¯­è¨€ã€å£°æ˜å¼UIçš„è¯­æ³•ã€è®¾è®¡æ€æƒ³æ¥çœ‹ï¼Œä¸ç®¡æ˜¯å‰ç«¯ã€iOSã€å®‰å“ã€æˆ–è€…Flutterã€RNï¼Œé¸¿è’™åº”ç”¨å¼€å‘éƒ½æ˜¯æ¯”è¾ƒå…¥é—¨å‹å¥½çš„ã€‚

## äº”ã€ å…¶ä»–

### 1. åŒ…ç®¡ç†å·¥å…·

HarmonyOSå¼€å‘ä¸­ï¼Œä½¿ç”¨çš„åŒ…ç®¡ç†å·¥å…·æ˜¯[ohpm](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V2/ide-command-line-ohpm-0000001490235312-V2)ï¼Œç›®å‰çœ‹æ¥åƒæ˜¯ä¸€ä¸ªå€Ÿé‰´[pnpm](https://pnpm.io/)çš„ä¸‰æ–¹åŒ…ç®¡ç†å·¥å…·ï¼Œè¯¦è§[å®˜æ–¹æ–‡æ¡£](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V2/ide-command-line-ohpm-0000001490235312-V2)ã€‚

å¦å¤–ï¼Œé¸¿è’™ä¹Ÿæä¾›äº†ç¬¬ä¸‰æ–¹åŒ…å‘å¸ƒçš„ä»“åº“ï¼š[https://ohpm.openharmony.cn](https://ohpm.openharmony.cn)ã€‚

### 2. åº”ç”¨ç¨‹åºç»“æ„

åœ¨é¸¿è’™ç³»ç»Ÿä¸­ï¼Œä¸€ä¸ªåº”ç”¨åŒ…å«ä¸€ä¸ªæˆ–è€…å¤šä¸ªModuleï¼Œæ¯ä¸€ä¸ªModuleéƒ½å¯ä»¥ç‹¬ç«‹è¿›è¡Œç¼–è¯‘å’Œè¿è¡Œã€‚

![åº”ç”¨ç¨‹åºç»“æ„](https://static.youfindme.cn/blog//harmony_os_getting_started/architecture_of_app.png)

å‘å¸ƒæ—¶ï¼Œæ¯ä¸ªModuleç¼–è¯‘ä¸ºä¸€ä¸ª`.hap`åç¼€çš„æ–‡ä»¶ï¼Œå³HAPã€‚æ¯ä¸ªHarmonyOSåº”ç”¨å¯ä»¥åŒ…å«å¤šä¸ª`.hap`æ–‡ä»¶ã€‚

åœ¨åº”ç”¨ä¸Šæ¶åˆ°åº”ç”¨å¸‚åœºæ—¶ï¼Œéœ€è¦æŠŠåº”ç”¨åŒ…å«çš„æ‰€æœ‰`.hap`æ–‡ä»¶æ‰“åŒ…ä¸ºä¸€ä¸ª`.app`åç¼€çš„æ–‡ä»¶ç”¨äºä¸Šæ¶ã€‚

ä½†æ˜¯`.app`åŒ…ä¸èƒ½ç›´æ¥å®‰è£…åˆ°è®¾å¤‡ä¸Šï¼Œåªæ˜¯ä¸Šæ¶åº”ç”¨å¸‚åœºçš„å•å…ƒï¼Œå®‰è£…åˆ°è®¾å¤‡ä¸Šçš„æ˜¯`.hap`ã€‚

![æ‰“åŒ…ç»“æ„](https://static.youfindme.cn/blog//harmony_os_getting_started/architecture_of_build.png)

![å¼€å‘æ€å’Œæ‰“åŒ…åè§†å›¾](https://static.youfindme.cn/blog//harmony_os_getting_started/architecture_of_dev_build.png)

é¸¿è’™åº”ç”¨çš„æ•´ä½“å¼€å‘è°ƒè¯•ä¸å‘å¸ƒéƒ¨ç½²æµç¨‹å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š

![å¼€å‘-è°ƒè¯•-å‘å¸ƒ-éƒ¨ç½²](https://static.youfindme.cn/blog//harmony_os_getting_started/dev-debug-release-deploy.png)

HAPå¯åˆ†ä¸ºEntryå’ŒFeatureä¸¤ç§ç±»å‹ï¼š

- **Entryç±»å‹çš„HAP**ï¼šæ˜¯åº”ç”¨çš„ä¸»æ¨¡å—
  åœ¨åŒä¸€ä¸ªåº”ç”¨ä¸­ï¼ŒåŒä¸€è®¾å¤‡ç±»å‹åªæ”¯æŒä¸€ä¸ªEntryç±»å‹çš„HAPï¼Œé€šå¸¸ç”¨äºå®ç°åº”ç”¨çš„å…¥å£ç•Œé¢ã€å…¥å£å›¾æ ‡ã€ä¸»ç‰¹æ€§åŠŸèƒ½ç­‰ã€‚
- **Featureç±»å‹çš„HAP**ï¼šæ˜¯åº”ç”¨çš„åŠ¨æ€ç‰¹æ€§æ¨¡å—
  ä¸€ä¸ªåº”ç”¨ç¨‹åºåŒ…å¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªFeatureç±»å‹çš„HAPï¼Œä¹Ÿå¯ä»¥ä¸åŒ…å«ï¼›Featureç±»å‹çš„HAPé€šå¸¸ç”¨äºå®ç°åº”ç”¨çš„ç‰¹æ€§åŠŸèƒ½ï¼Œå¯æŒ‰éœ€ä¸‹è½½å®‰è£…

è€Œè®¾è®¡æˆå¤šhapï¼Œä¸»è¦æ˜¯æœ‰3ä¸ªç›®æ ‡ï¼š

1. ä¸ºäº†è§£è€¦åº”ç”¨çš„å„ä¸ªæ¨¡å—ï¼Œæ¯”å¦‚ä¸€ä¸ªæ”¯ä»˜ç±»å‹çš„Appï¼ŒEntryç±»å‹çš„hapå¯ä»¥æ˜¯é¦–é¡µä¸»ç•Œé¢ï¼Œä¸Šé¢çš„æ‰«ä¸€æ‰«ã€æ¶ˆæ¯ã€ç†è´¢ç­‰å¯ä»¥çš„featureç±»å‹çš„HAP
2. æ–¹ä¾¿å¼€å‘è€…å°†å¤šHAPåˆç†åœ°ç»„åˆå¹¶éƒ¨ç½²åˆ°ä¸åŒçš„è®¾å¤‡ä¸Šï¼Œæ¯”å¦‚æœ‰ä¸‰ä¸ªHAPï¼ŒEntryã€Feature1å’ŒFeature2ï¼Œå…¶ä¸­Aç±»å‹çš„è®¾å¤‡åªèƒ½éƒ¨ç½²Entryå’ŒFeature1ã€‚Bç±»å‹çš„è®¾å¤‡åªèƒ½éƒ¨ç½²Entryå’ŒFeature2
3. æ–¹ä¾¿åº”ç”¨èµ„æºå…±äº«ï¼Œå‡å°‘ç¨‹åºåŒ…å¤§å°ã€‚å¤šä¸ªHAPéƒ½éœ€è¦ç”¨åˆ°çš„èµ„æºæ–‡ä»¶å¯ä»¥æ”¾åˆ°å•ç‹¬çš„HAPä¸­

> å¤šè¯´ä¸€å¥ï¼šä»è¿™äº›æè¿°æ¥çœ‹ï¼Œç»™æˆ‘çš„æ„Ÿè§‰æ˜¯æ¯ä¸ª.hapæœ‰ç‚¹ç±»ä¼¼äºå‰ç«¯é¡¹ç›®ä¸­Mono-repoä»“åº“ä¸­çš„ä¸€ä¸ªpackageï¼Œå„ä¸ªpackageä¹‹é—´æœ‰ä¸€å®šçš„ä¾èµ–ï¼ŒåŒæ—¶æ¯ä¸ªpackageå¯ä»¥ç‹¬ç«‹å‘å¸ƒã€‚

å¦å¤–ï¼ŒHarmonyOSä¹Ÿæ”¯æŒç±»ä¼¼RNçƒ­æ›´æ–°çš„åŠŸèƒ½ï¼Œå«åš[å¿«é€Ÿä¿®å¤ï¼ˆquick fixï¼‰](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V2/quickfix-principles-0000001493743976-V2)ã€‚

## å…­ã€ æ€»ç»“

ç°åœ¨å†å›åˆ°æœ€å¼€å§‹é‚£ä¸ªé—®é¢˜ï¼šä»€ä¹ˆæ˜¯é¸¿è’™ï¼Ÿä»å‰ç«¯è§†è§’æ¥çœ‹ï¼Œå®ƒæ˜¯è¿™æ ·ä¸€ä¸ªç³»ç»Ÿï¼š

- ArkTSä½œä¸ºåº”ç”¨å¼€å‘è¯­è¨€
- ç±»Flutterã€Composeã€Swiftçš„å£°æ˜å¼UIè¯­æ³•
- å’ŒReactæœ‰äº›ç›¸ä¼¼çš„æ•°ç»„é©±åŠ¨UIçš„è®¾è®¡æ€æƒ³
- ArkCompilerè¿›è¡Œå­—èŠ‚ç å’Œæœºå™¨ç çš„AOTç¼–è¯‘ + æ–¹èˆŸè¿è¡Œæ—¶
- ç±»ä¼¼Flutter Skiaæ¸²æŸ“å¼•æ“çš„è‡ªç»˜åˆ¶æ¸²æŸ“å¼•æ“
- é€šè¿‡æä¾›ä¸€ç³»åˆ—ohos.xxxçš„ç³»ç»Ÿå†…ç½®åŒ…æ¥æä¾›TSè®¿é—®ç³»ç»Ÿåº•å±‚çš„èƒ½åŠ›ï¼ˆæ¯”å¦‚ç½‘ç»œã€åª’ä½“ã€æ–‡ä»¶ã€USBç­‰ï¼‰

æ‰€ä»¥å…³äºHarmonyOSæ˜¯ä¸æ˜¯å®‰å“å¥—å£³ï¼Œä¸ªäººæ„Ÿè§‰å…¶å®å·²ç»æ¯”è¾ƒæ˜äº†äº†ï¼šä»¥å‰åº”è¯¥æ˜¯ï¼Œä½†å¿«è¦å‘å¸ƒçš„HarmonyOS NEXTå¤§æ¦‚ç‡ä¸å†æ˜¯äº†ã€‚

### å…¶ä»–ä¸€äº›è®¨è®º

å…¶å®åœ¨åä¸ºå®£å¸ƒäº†HarmonyOS NEXTä¸å†å…¼å®¹å®‰å“åï¼Œå®‰å“å¥—å£³çš„å£°éŸ³è¶Šæ¥è¶Šå°‘äº†ï¼Œä½†ç°åœ¨ç½‘ä¸Šå¦å¤–ä¸€ç§å£°éŸ³è¶Šæ¥è¶Šå¤šäº†ï¼š

> 1. HarmonyOS NEXTæ˜¯ä¸€ä¸ªå¤§å·çš„å°ç¨‹åºåº•åº§ï¼Œä¸Šé¢çš„åº”ç”¨éƒ½æ˜¯ç½‘é¡µåº”ç”¨ï¼Œåº”ç”¨å¯ä»¥ç›´æ¥å³é”®æŸ¥çœ‹æºç ï¼Œæ²¡æœ‰å®‰å…¨æ€§å¯è¨€
> 2. HarmonyOS NEXTä¸Šçš„å¾®ä¿¡å°ç¨‹åºå°±æ˜¯åœ¨å°ç¨‹åºé‡Œè¿è¡Œå°ç¨‹åº
> 3. å› ä¸ºä½¿ç”¨çš„æ˜¯ArkTSå¼€å‘ï¼Œæ‰€ä»¥çš„HarmonyOS NEXTä¸Šçš„åº”ç”¨æ€§èƒ½å¿…ç„¶å¾ˆå·®

è¿™ç§è¯´æ³•å¾€å¾€æ¥è‡ªäºåªçŸ¥é“é¸¿è’™ç³»ç»Ÿåº”ç”¨å¼€å‘è¯­è¨€æ˜¯TSï¼Œä½†æ˜¯æ²¡æœ‰å»è¿›ä¸€æ­¥äº†è§£çš„äººï¼Œè€Œä¸”è¿™ç§è¯´æ³•è¿˜æœ‰å¾ˆå¤šäººä¿¡ã€‚å…¶å®åªè¦ç¨å¾®çœ‹ä¸‹æ–‡æ¡£ï¼Œå°±çŸ¥é“è¿™ç§è¯´æ³•æ˜¯**å®Œå…¨é”™è¯¯çš„**ã€‚

é¦–å…ˆå®ƒçš„Viewå±‚ä¸æ˜¯DOMï¼Œè€Œæ˜¯ç±»ä¼¼Flutterçš„è‡ªç»˜åˆ¶çš„æ¸²æŸ“å¼•æ“ï¼Œä¸èƒ½å› ä¸ºä½¿ç”¨äº†TSå°±è¯´æ˜¯ç½‘é¡µï¼Œå°±åƒå¯ä»¥è¯´React Webæ˜¯ç½‘é¡µåº”ç”¨ï¼Œä½†ä¸èƒ½è¯´React Nativeæ˜¯ç½‘é¡µåº”ç”¨ï¼ŒåŒæ ·ä¹Ÿä¸æ˜¯è¯´Flutteræ˜¯ç½‘é¡µåº”ç”¨ã€‚

å¦å¤–å¼€å‘è¯­è¨€æœ¬èº«å¹¶ä¸èƒ½å†³å®šæœ€ç»ˆè¿è¡Œæ€§èƒ½ï¼Œè¿˜æ˜¯è¦çœ‹ç¼–è¯‘å™¨å’Œè¿è¡Œæ—¶çš„ä¼˜åŒ–ã€‚åŒæ ·æ˜¯JSï¼Œä»å®Œå…¨çš„è§£é‡Šæ‰§è¡Œï¼ˆJS->AST->å­—èŠ‚ç ->æ‰§è¡Œï¼‰ï¼Œåˆ°å¼€å¯JITçš„V8ï¼Œæ€§èƒ½éƒ½ä¼šæœ‰è´¨çš„é£è·ƒã€‚ä»ä¸€äº›[ç¼–ç¨‹è¯­è¨€æ€§èƒ½æµ‹è¯•](https://github.com/GoodManWEN/Programming-Language-Benchmarks-Visualization)ä¸­å¯ä»¥çœ‹åˆ°ï¼Œå¼€å¯JITçš„NodeJsçš„æ€§èƒ½ï¼Œç”šè‡³å’ŒFlutteræ‰€ä½¿ç”¨çš„Dartå·®ä¸å¤šã€‚

è€ŒArkCompileræ˜¯ç»“åˆäº†Hermeså’ŒV8 JITçš„ç‰¹ç‚¹ï¼ŒAOTç¼–è¯‘ä¸ºå­—èŠ‚ç å’Œæœºå™¨ç ï¼Œæ‰€ä»¥ç†è®ºä¸Šè®²æ€§èƒ½åº”è¯¥ç›¸å½“ä¸é”™ã€‚

ï¼ˆå½“ç„¶æˆ‘ä¹Ÿæ²¡æœ‰å®æœºå¯ä»¥æµ‹è¯•ï¼Œåªèƒ½æ ¹æ®æ–‡æ¡£æ¥åˆ†æï¼‰ã€‚

ä¸Šé¢è¿™ç§HarmonyOS NEXTæ˜¯ç½‘é¡µåº”ç”¨çš„è¯´æ³•è¿˜æœ‰å¯èƒ½æ˜¯ç”±äºï¼Œæœ€æ—©é¸¿è’™åº”ç”¨æ”¯æŒä½¿ç”¨HTMLã€CSSã€JSä¸‰ä»¶å¥—è¿›è¡Œ[å…¼å®¹Webçš„å¼€å‘](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V2/ui-js-overview-0000001428061548-V2)ï¼Œå¯¼è‡´äº†åˆ»æ¿å°è±¡ã€‚è¿™ç§å¼€å‘æ–¹å¼ä½¿ç”¨çš„æ˜¯[FAæ¨¡å‹](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V2/start-with-js-fa-0000001428061452-V2)ï¼Œè€Œç›®å‰è¿™ç§æ–¹å¼å·²ç»[ä¸æ˜¯é¸¿è’™ä¸»æ¨çš„å¼€å‘æ–¹å¼äº†](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V2/application-model-description-0000001493584092-V2)ã€‚

åˆ°è¿™é‡Œè¿™ç¯‡æ–‡ç« å°±ç»“æŸäº†ï¼Œæ•´ä½“ä¸Šæ˜¯ç«™åœ¨ä¸€ä¸ªå‰ç«¯å¼€å‘çš„è§†è§’ä¸‹æ¥è®¤è¯†å’Œäº†è§£é¸¿è’™å¼€å‘çš„ï¼Œå¸Œæœ›èƒ½å¸®åŠ©ä¸€äº›åƒæˆ‘ä¸€æ ·å¯¹é¸¿è’™å¼€å‘æ„Ÿå…´è¶£çš„å‰ç«¯å¼€å‘å…¥é—¨ã€‚å¤§å®¶å¦‚æœæ„Ÿå…´è¶£å¯ä»¥åˆ°[é¸¿è’™å®˜ç½‘](https://developer.huawei.com/consumer/cn/)æŸ¥çœ‹æ›´å¤šçš„äº†è§£ã€‚

å¦‚æœæ„Ÿè§‰å¯¹ä½ æœ‰å¸®åŠ©ï¼Œå¯ä»¥ç‚¹ä¸ªèµå“¦~

## å‚è€ƒé“¾æ¥

- [åä¸ºå¼€å‘è€…è”ç›Ÿ-HarmonyOSå¼€å‘è€…å®˜ç½‘](https://developer.huawei.com/consumer/cn/)
- [OpenHarmony](https://www.openharmony.cn)
- [ArkUI-X](https://gitee.com/arkui-x)
- [ä¸åŒè®¾å¤‡å¦‚ä½•ç»Ÿä¸€è¯­è¨€ç¼–ç¨‹å¹³å°é«˜æ•ˆå¼€å‘ï¼Ÿæœ¬æ–‡ä¸ºä½ æ­ç§˜](https://mp.weixin.qq.com/s/8UHznZenc7A_UICta2bETg)
- [ğŸ¤” ç§»åŠ¨ç«¯ JS å¼•æ“å“ªå®¶å¼ºï¼Ÿç¾å›½ç¡…è°·æ‰¾...... | å¤ä»£çƒƒå®éªŒå®¤](https://supercodepower.com/mobile-javascript-engines)
- [ğŸ¯ã€æ·±å…¥è§£æã€‘è·¨ç«¯æ¡†æ¶çš„æ ¸å¿ƒæŠ€æœ¯åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ | å¤ä»£çƒƒå®éªŒå®¤](https://supercodepower.com/cross-platform-tech)
- [åŸºæœ¬åŠŸ | Javaå³æ—¶ç¼–è¯‘å™¨åŸç†è§£æåŠå®è·µ](https://tech.meituan.com/2020/10/22/java-jit-practice-in-meituan.html)
- [è‹¹æœä¸ºä½•åˆå¦‚ä½•åœ¨ iOS ä¸Šç¦æ­¢ Safari ä¹‹å¤–çš„åº”ç”¨ä½¿ç”¨ Nitro JIT ç¼–è¯‘ï¼Ÿ - çŸ¥ä¹](https://www.zhihu.com/question/21320960/answer/18628710)
- [ä¸€æ¬¡çœ‹æ‡‚V8å¼•æ“ä¸JITåŸç†](https://juejin.cn/post/7179130165262286885)
- [Harmony å¼€å§‹æ”¯æŒ Flutter ï¼ŒèŠèŠ Harmony å’Œ Flutter ä¹‹é—´çš„å› æœ](https://juejin.cn/post/7280006531922673719)
